var treeator=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){
/*!
 * npm Entry File
 * (c) 2020 Joshua Adams
 */
var n=r(1);e.exports=r(2)("./".concat(n.name,".js"))},function(e){e.exports=JSON.parse('{"name":"treeator","version":"1.4.3","description":"A JavaScript component to create views of tree data structures","main":"index.js","repository":{"type":"git","url":"git+https://github.com/Joshua-W-Adams/treeator.git"},"author":"Joshua Adams","license":"ISC","bugs":{"url":"https://github.com/Joshua-W-Adams/treeator/issues"},"homepage":"https://github.com/Joshua-W-Adams/treeator#readme","devDependencies":{"@babel/core":"^7.8.4","@babel/preset-env":"^7.8.4","babel-loader":"^8.0.6","eslint-config-airbnb-base":"^14.0.0","eslint-plugin-import":"^2.20.0","express":"^4.17.1","gulp":"^4.0.2","gulp-concat":"^2.6.1","gulp-eslint":"^6.0.0","gulp-minify-css":"^1.2.4","gulp-rename":"^2.0.0","gulp-sass":"^4.0.2","gulp-stylelint":"^13.0.0","inputator":"^1.0.1","stylelint":"^13.0.0","stylelint-config-recommended":"^3.0.0","webpack-stream":"^5.2.1"},"dependencies":{"gulp-nodemon":"^2.5.0"}}')},function(e,t,r){var n={"./treeator.js":3};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=2},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * Treeator
 * JavaScript component for generating views of tree data structures
 * (c) 2020 Joshua Adams
 */var n,o,a,i={style:{}},l={style:{}},s={style:{}};function c(e,t){var r=document.createElement(t);return e.appendChild(r),r}function u(e){i!==e&&(i!==l&&(i.style.backgroundColor=""),i=e,e!==l&&(e.style.backgroundColor="rgba(206,230,253,1)"))}function d(e){l!==e&&(l.style.backgroundColor="",l=e,e.style.backgroundColor="rgba(28,144,243,1)")}function p(e){s!==e&&(s=e)}function f(){var e={className:"treeator-tree",style:{"font-family":"roboto",margin:"0px",fontFamily:"roboto",height:"100%",width:"100%",boxSizing:"border-box",fontSize:"13px",overflow:"scroll"}};return e}function v(){var e={className:"",style:{wordBreak:"break-all","font-size":"14px"}};return e}function m(){var e={className:"",style:{padding:"5px"}};return e}function g(e,t){for(var n=Object.keys(t),o=0;o<n.length;o++){var a=n[o];"object"===r(t[a])&&null!==t[a]?Object.assign(e[a],t[a]):e[a]=t[a]}return e}function y(e,t){var r=e.innerText||e.textContent,n="";e.firstChild&&e.firstChild.outerHTML&&(n=e.firstChild.outerHTML,r=r.replace(e.firstChild.innerText,""),e.childNodes[1]&&e.childNodes[1].outerHTML&&(n+=e.childNodes[1].outerHTML,r=r.replace(e.childNodes[1].innerText,""))),e.innerHTML=""!==t?n+r.replace(new RegExp("(".concat(t,")"),"ig"),'<span style="background-color: yellow;">$1</span>'):n+r}function h(e,t,r,n){if(e[t]||(e[t]=[]),0===t)(e=[])[0]=[],e[0].push(n);else if(t===r)e[t]=[],e[t].push(n);else if(t>r)e[t].push(n);else{for(var o=t;o<e.length;o++)e[o]=[];e[t].push(n)}return e}function b(e){if(e)for(var t=0;t<e.length;t++){var r=e[t];if(r)for(var n=0;n<r.length;n++)r[n].style.display=""}}function T(e,t){return function(e,t,r,n){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var o=[];for(e=e.nextElementSibling;e&&!e.matches(t);)if(!r||e.matches(r)){if(n&&!n(e))break;o.push(e),e=e.nextElementSibling}else e=e.nextElementSibling;return o}(e,null,null,(function(e){var r=e.getAttribute("data-depth");return t<r}))}function x(e,t){var r={collapseIcon:e.tree.rows.collapseIcon||"▾",expandIcon:e.tree.rows.expandIcon||"▸"},n=t.target,o=n.parentNode.parentNode,a=o.getAttribute("data-depth");if(a&&a>=0){var i=T(o,a),l=i.filter((function(e){return e.classList.contains("treeator-tree--expand")})),s=i;l.map((function(e){var t=e.getAttribute("data-depth"),r=T(e,t);s=s.filter((function(e){for(var t=0;t<r.length;t++)if(r[t]===e)return!1;return!0}))})),n.innerHTML===r.collapseIcon?(o.classList.remove("treeator-tree--collapse"),o.classList.add("treeator-tree--expand"),n.innerHTML=r.expandIcon,i.map((function(e){e.style.display="none"}))):n.innerHTML===r.expandIcon&&(o.classList.remove("treeator-tree--expand"),o.classList.add("treeator-tree--collapse"),n.innerHTML=r.collapseIcon,s.map((function(e){e.style.display=""})))}}function A(e,t,r){var n=c(t,"span"),o=function(e){var t={};return"filesystem"===e&&(t={file:"&#128459;",folder:"&#128447;"}),t}(r);n.innerHTML=o[e.ICON_TYPE]||"",n.style.padding="0px 5px 0px 5px",n.style.color="rgba(95,99,104,1)"}function D(e,t,r,n){var o={onClick:n.tree.rows.onClick||d,onDblClick:n.tree.rows.onDblClick||p,onHover:n.tree.rows.onHover||u,onHoverOut:n.tree.rows.onHoverOut||function(){}};e.onclick=function(){return o.onClick(e,t,r)},e.ondblclick=function(){return o.onDblClick(e,t,r)},e.onmouseover=function(){return o.onHover(e,t,r)},e.onmouseout=function(){return o.onHoverOut(e,t,r)}}function E(e,t,r,n,a){var i={renderer:e.tree.rows.renderer||v},l="",s="none",u="";if(n<a.length-1&&r.DATA_DEPTH<a[n+1].DATA_DEPTH&&(l="treeator-tree--expand"),0===r.DATA_DEPTH)s="";else if(o&&0!==n){var d=function(e,t,r){for(var n=e-1;n>-1;n--){var o=t[n],a=void 0;if(o&&(a=o.DATA_DEPTH),a<r)return n}}(n,a,r.DATA_DEPTH);"treeator-tree--expand"!==t.rows[d].className&&(s="")}r.COLOUR_CODE&&(u="rgba(".concat(r.COLOUR_CODE,")"));var p=document.createElement("tr");p.setAttribute("data-depth",r.DATA_DEPTH),p.style.display=s,p.style.backgroundColor=u,g(p,i.renderer()),p.className=l,D(p,r,n,e),function(e,t,r,n,o){for(var a,i,l={expandIcon:e.tree.rows.expandIcon||"▸",rowTypeIcons:e.tree.rows.rowTypeIcons||"",renderer:e.tree.cells.renderer||m},s=0;s<r.length;s++){var u=c(n,"td");if(0===s){var d=c(u,"span");d.style.height="18px",d.style.width="18px",d.style.display="inline-block","treeator-tree--expand"===o&&(d.style.cursor="pointer",d.style.textAlign="center",d.innerHTML=l.expandIcon),d.style.paddingLeft="".concat(15*t.DATA_DEPTH,"px"),A(t,u,l.rowTypeIcons),u.onclick=function(t){x(e,t)}}var p=e.tree.columns.alignment,f=(a=t[r[s]],i="",void 0===a?i:a);u.innerHTML=u.innerHTML+f,u.style.textAlign=p[s],u.style.whiteSpace="nowrap",u.style.overflow="hidden",g(u,l.renderer())}}(e,r,e.tree.columns.sourceNames,p,l);var f,y,h=t.rows,b=t.tBodies[0],T=h.item(n-1);T?(f=p,(y=T).parentNode.insertBefore(f,y.nextSibling)):b.prepend(p)}function C(e,t){var r,o;r="treeator-tree",(o=document.getElementById(r))&&o.parentNode.removeChild(o);var a=c(t,"table");a.id="treeator-tree",a.cellSpacing="0",a.style.tableLayout="fixed",function(e,t){for(var r=e.tree.columns.sourceNames,n=e.tree.columns.newNames,o=e.tree.columns.widths,a=e.tree.columns.displayNames||!1,i=c(t,"thead"),l=0;l<r.length;l++){var s=c(i,"th"),u=n[l].replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),d=void 0;o&&(d="".concat(o[l],"px")),s.width=d,a&&(s.innerHTML=u)}}(e,a),c(a,"tbody"),function(e,t){for(var r=e.tree.data,n=0;n<r.length;n++){E(e,t,r[n],n,r)}}(e,a),n=a.cloneNode(!0);var i={renderer:e.tree.renderer||f};return g(document.getElementById(e.tree.div),i.renderer()),a}function H(e,t,r,a){var i=document.getElementById(e).value.toUpperCase(),l=n.cloneNode(!0),s=l.getElementsByTagName("tr"),c=[],u=-1;if(i)for(var d=0;d<s.length;d++){var p=s[d].getAttribute("data-depth");c=h(c,p,u,s[d]);for(var f=s[d].getElementsByTagName("td"),v=!1,m=0;m<f.length;m++){(f[m].innerText||f[m].textContent).toUpperCase().indexOf(i)>-1&&(v=!0,y(f[m],i))}v?(s[d].style.display="",s[d].classList.remove("treeator-tree--collapse"),s[d].classList.add("treeator-tree--expand"),b(c)):s[d].style.display="none",D(s[d],a.tree.data[d],d,a),u=p}else for(var g=0;g<s.length;g++)D(s[g],a.tree.data[g],g,a);l.onclick=function(e){x(a,e)},function(e,t,r){var n=document.getElementById(r);n&&n.parentNode.removeChild(n),document.getElementById(t).appendChild(e),o=e}(l,r,t)}function w(e,t){for(var r=0,n=e[t].DATA_DEPTH,o=t+1;o<e.length;o++){if(!(e[o].DATA_DEPTH>n))break;r++}return r}function k(e,t,r){for(var n=r.position,o=w(t,n),a=0;a<o+1;a++)e.deleteRow(n+o-a)}function L(e,t){var r=t.updates,n=t.position,o=t.childUpdates;if(r)for(var a=0;a<r.length;a++){var i=r[a].property,l=r[a].value;e[n][i]=l}o&&function(e,t,r){for(var n=e[t].DATA_DEPTH,o=parseInt(t)+1;o<e.length;o++){var a=e[o];if(!(a.DATA_DEPTH>n))break;for(var i=0;i<r.length;i++){var l=r[i],s=l.property,c=l.findStartsWithString,u=l.replaceString;a[s].startsWith(c)&&(a[s]=a[s].replace(c,u))}}}(e,n,o)}function N(e,t,r){var n=t.htmlUpdates;if(n){var o=t.position,i=e.rows[o];!function(e,t,r){!0===e&&0!==a.tree.data[r].DATA_DEPTH&&(t.style.display="none")}(r,i,o);for(var l=0;l<n.length;l++){var s=n[l],c=s.column,u=s.value,d=i.cells[c].childNodes;d[d.length-1].data=u}}}e.exports={init:function(e){var t=C(e,document.createDocumentFragment());o=t,a=e,function(e,t,r,n){var o=document.getElementById(t),a=document.getElementById(r);a&&a.value?H(r,"treeator-tree",t,n):o.appendChild(e)}(t,e.tree.div,e.search.div,e)},searchTable:H,appendTreeRecords:function(e){for(var t=0;t<e.length;t++){var r=e[t];E(a,n,r.data,r.position,a.tree.data),E(a,o,r.data,r.position,a.tree.data),i=a.tree.data,s=void 0,c=void 0,s=(l=r).position,c=l.data,i.splice(s,0,c)}var i,l,s,c},onHoverDefault:u,onClickDefault:d,onDblClickDefault:p,removeTreeRecords:function(e){for(var t=e.length-1;t>-1;t--){var r=e[t];k(n,a.tree.data,r),k(o,a.tree.data,r),i=a.tree.data,l=void 0,s=void 0,l=r.position,s=w(i,l),i.splice(l,s+1)}var i,l,s},updateTreeRecords:function(e){for(var t=0;t<e.length;t++){var r=e[t];N(n,r,!0),N(o,r,!1),L(a.tree.data,r)}},findLastChild:function(e,t){t||(t=a.tree.data);for(var r=t[e].DATA_DEPTH,n=0,o=e+1;o<t.length;o++){var i=t[o].DATA_DEPTH;if(r<i)n++;else if(i<=r)return 0!==n?o-1:null}return t.length-1},getChildren:function(e,t){t||(t=a.tree.data);for(var r=t[e].DATA_DEPTH,n=[],o=e+1;o<t.length;o++){var i=t[o].DATA_DEPTH;if(i===r+1)n.push(t[o]);else if(i<=r)break}return n}}}]);
//# sourceMappingURL=treeator.min.js.map