{"version":3,"sources":["webpack://treeator/webpack/bootstrap","webpack://treeator/./index.js","webpack://treeator/./src/js sync ^\\.\\/.*\\.js$","webpack://treeator/./src/js/treeator.js"],"names":["pkg","require","module","exports","name","inMemTree","currentTree","globalOptions","onHoverRow","style","singleClickedRow","dblClickedRow","_handleUndefined","value","returnValue","_toTitleCase","str","replace","tc","txt","charAt","toUpperCase","substr","toLowerCase","_addElement","parent","type","element","document","createElement","appendChild","_deleteElement","id","e","getElementById","parentNode","removeChild","onHoverDefault","tr","backgroundColor","onClickDefault","onDblClickDefault","_containerRenderer","container","className","margin","fontFamily","height","width","boxSizing","fontSize","overflow","_rowRenderer","row","wordBreak","_cellRenderer","cell","padding","_applyRender","properties","arr","Object","keys","i","length","prop","assign","_addHighlight","tdElement","filter","t","innerText","textContent","outerHtml","firstChild","outerHTML","childNodes","innerHTML","RegExp","_getParentsToDisplay","parents","depth","previousDepth","push","_displayParents","x","depthParents","y","display","_nextUntil","elem","selector","callback","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","siblings","nextElementSibling","_getChildren","cb","sibling","siblingDepth","getAttribute","_getParentIndex","elementPosition","data","rowDepth","DATA_DEPTH","_hide","ele","_show","_toggleTreeView","options","tableElement","cnf","collapseIcon","tree","rows","expandIcon","target","children","expandnodes","item","classList","contains","childrenCopy","map","subnode","subnodeDepth","subnodeChildren","child","remove","add","_addTreeToDom","treeElement","divId","tableDivId","oldTree","_displayTree","treeRoot","searchDivId","div","input","searchTable","_addHeaders","columnNames","columns","sourceNames","newColumnNames","newNames","widths","displayNames","treeHeader","th","header","_fileSystemIconLookup","file","folder","_iconLookup","rowTypeIcons","lookup","_addRowIcons","tableCell","icon","ICON_TYPE","color","_addCells","tableRow","expand","renderer","cells","n","tableCellSpan","cursor","textAlign","paddingLeft","onclick","alignments","alignment","cellValue","whiteSpace","render","_addRowEvents","pos","onClick","onDblClick","onHover","onHoverOut","ondblclick","onmouseover","onmouseout","_insertAfter","newNode","referenceNode","insertBefore","nextSibling","_addRow","colourCode","parentRowIndex","COLOUR_CODE","setAttribute","treeBody","tBodies","insertRow","prepend","_addRows","_createTreeView","frag","cellSpacing","tableLayout","cloneNode","table","getElementsByTagName","td","found","text","indexOf","toggle","_addRowToDataModel","position","rowData","splice","_getChildrenLength","index","childCount","indexDepth","_removeRowFromDataModel","_removeRow","deleteRow","appendTreeRecords","records","record","removeTreeRecords","_updateChildrenProperties","childUpdates","start","parseInt","update","property","findStartsWithString","replaceString","startsWith","_updateRowToDataModel","rowUpdates","updates","_setRowDefaultDisplay","check","_updateRow","htmlUpdates","column","lastNode","updateTreeRecords","findLastChild","parentPos","parentDepth","startPos","getChildren","init","createDocumentFragment","search"],"mappings":"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","file":"treeator.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\r\n * npm Entry File\r\n * (c) 2020 Joshua Adams\r\n */\r\n\r\n/**\r\n * index.js is the default 'entry file' for npm.\r\n * This means that any require('package name') or import 'package name'\r\n * statements will refer to this file.\r\n */\r\nconst pkg = require('./package.json');\r\n// export a file with the same name as the package by default\r\nmodule.exports = require(`./src/js/${pkg.name}.js`);","var map = {\n\t\"./treeator.js\": 3\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2;","/*!\r\n * Treeator\r\n * JavaScript component for generating views of tree data structures\r\n * (c) 2020 Joshua Adams\r\n */\r\n\r\n/* ============================== Import Modules ============================ */\r\n\r\n// N/A\r\n\r\n/* ================================ Variables =============================== */\r\n\r\n// variable to store tree fragment to enable searching operations with\r\n// minimised repaints and reflows\r\nlet inMemTree;\r\n// stores the current tree element display so that its state can be tracked\r\nlet currentTree;\r\n// store globalOptions for use in calls to treeator after initial construction\r\nlet globalOptions;\r\n// track user interaction with tree\r\nlet onHoverRow = { style: {} };\r\nlet singleClickedRow = { style: {} };\r\nlet dblClickedRow = { style: {} };\r\n\r\n/* ============================= Private Methods ============================ */\r\n\r\nfunction _handleUndefined(value, returnValue) {\r\n  if (typeof value === 'undefined') {\r\n    return returnValue;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction _toTitleCase(str) {\r\n  return str.replace(/\\w\\S*/g,\r\n    function tc(txt) {\r\n      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n    });\r\n}\r\n\r\nfunction _addElement(parent, type) {\r\n  const element = document.createElement(type);\r\n  parent.appendChild(element);\r\n  return element;\r\n}\r\n\r\nfunction _deleteElement(id) {\r\n  const e = document.getElementById(id);\r\n  if (e) {\r\n    e.parentNode.removeChild(e);\r\n  }\r\n}\r\n\r\nfunction onHoverDefault(tr) {\r\n  if (onHoverRow !== tr) {\r\n    // clear current styling\r\n    if (onHoverRow !== singleClickedRow) {\r\n      onHoverRow.style.backgroundColor = '';\r\n    }\r\n    // set new row\r\n    onHoverRow = tr;\r\n    if (tr !== singleClickedRow) {\r\n      // set default styling\r\n      tr.style.backgroundColor = 'rgba(206,230,253,1)';\r\n    }\r\n  }\r\n}\r\n\r\nfunction onClickDefault(tr) {\r\n  if (singleClickedRow !== tr) {\r\n    // clear current styling\r\n    singleClickedRow.style.backgroundColor = '';\r\n    // set new row\r\n    singleClickedRow = tr;\r\n    // set default styling\r\n    tr.style.backgroundColor = 'rgba(28,144,243,1)';\r\n  }\r\n}\r\n\r\nfunction onDblClickDefault(tr) {\r\n  if (dblClickedRow !== tr) {\r\n    // set new row\r\n    dblClickedRow = tr;\r\n  }\r\n}\r\n\r\nfunction _containerRenderer() {\r\n  const container = {};\r\n  container.className = 'treeator-tree';\r\n  container.style = {\r\n    'font-family': 'roboto',\r\n    margin: '0px',\r\n    fontFamily: 'roboto',\r\n    height: '100%',\r\n    width: '100%',\r\n    boxSizing: 'border-box',\r\n    fontSize: '13px',\r\n    overflow: 'scroll'\r\n  };\r\n  return container;\r\n}\r\n\r\nfunction _rowRenderer() {\r\n  const row = {};\r\n  row.className = '';\r\n  row.style = {\r\n    wordBreak: 'break-all',\r\n    'font-size': '14px'\r\n  };\r\n  return row;\r\n}\r\n\r\nfunction _cellRenderer() {\r\n  const cell = {};\r\n  cell.className = '';\r\n  cell.style = {\r\n    padding: '5px'\r\n  };\r\n  return cell;\r\n}\r\n\r\nfunction _applyRender(element, properties) {\r\n  const arr = Object.keys(properties);\r\n  for (let i = 0; i < arr.length; i++) {\r\n    const prop = arr[i];\r\n    if (typeof properties[prop] === 'object' && properties[prop] !== null) {\r\n      Object.assign(element[prop], properties[prop]);\r\n    } else {\r\n      element[prop] = properties[prop];\r\n    }\r\n  }\r\n  return element;\r\n}\r\n\r\nfunction _addHighlight(tdElement, filter) {\r\n  let t = (tdElement.innerText || tdElement.textContent);\r\n  // flags... ig\r\n  // i = case insensitive\r\n  // g = global. Search for ALL matches in string\r\n  let outerHtml = '';\r\n  // case 1 - one child element to persist (chevron)\r\n  if (tdElement.firstChild && tdElement.firstChild.outerHTML) {\r\n    // persist html\r\n    outerHtml = tdElement.firstChild.outerHTML;\r\n    // remove child text\r\n    t = t.replace(tdElement.firstChild.innerText, '');\r\n    // case 2 - two child elements to persist\r\n    if (tdElement.childNodes[1] && tdElement.childNodes[1].outerHTML) {\r\n      // persist html\r\n      outerHtml = outerHtml + tdElement.childNodes[1].outerHTML;\r\n      // remove child text\r\n      t = t.replace(tdElement.childNodes[1].innerText, '');\r\n    }\r\n  }\r\n  // case 1 - filter passed\r\n  if (filter !== '') {\r\n    tdElement.innerHTML = outerHtml + t.replace(new RegExp(`(${filter})`, 'ig'), '<span style=\"background-color: yellow;\">$1</span>');\r\n  // case 2 - empty filter therefore remove highlight\r\n  } else {\r\n    tdElement.innerHTML = outerHtml + t;\r\n  }\r\n}\r\n\r\nfunction _getParentsToDisplay(parents, depth, previousDepth, tr) {\r\n  // add level to array\r\n  if (!parents[depth]) {\r\n    parents[depth] = [];\r\n  }\r\n  // case 1 - minimum depth reached - reset parents array\r\n  if (depth === 0) {\r\n    parents = [];\r\n    parents[0] = [];\r\n    parents[0].push(tr);\r\n    // case 2 - depth remains the same\r\n  } else if (depth === previousDepth) {\r\n    // reset current depth level\r\n    parents[depth] = [];\r\n    parents[depth].push(tr);\r\n    // case 3 - depth increased\r\n  } else if (depth > previousDepth) {\r\n    parents[depth].push(tr);\r\n    // case 4 - depth decreased\r\n  } else {\r\n    // clear current depth and lower depths\r\n    for (let i = depth; i < parents.length; i++) {\r\n      parents[i] = [];\r\n    }\r\n    parents[depth].push(tr);\r\n  }\r\n  return parents;\r\n}\r\n\r\nfunction _displayParents(parents) {\r\n  if (parents) {\r\n    for (let x = 0; x < parents.length; x++) {\r\n      const depthParents = parents[x];\r\n      if (depthParents) {\r\n        for (let y = 0; y < depthParents.length; y++) {\r\n          depthParents[y].style.display = '';\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// get all sibling elements until an element with a particular selector is\r\n// encountered. In this case data-depth = current value.\r\n// elem = element to start search with\r\n// selector = css selector pattern to stop at. e.g. class, div, attribute etc.\r\nfunction _nextUntil(elem, selector, filter, callback) {\r\n  // matches() polyfill\r\n  // normalise behaviour of matches function in older browsers\r\n  if (!Element.prototype.matches) {\r\n    Element.prototype.matches = Element.prototype.msMatchesSelector\r\n      || Element.prototype.webkitMatchesSelector;\r\n  }\r\n  // Setup siblings array\r\n  const siblings = [];\r\n  // Get the next sibling element. Sibling immediately after starting element.\r\n  elem = elem.nextElementSibling;\r\n  // Loop through all sibling elements until no sibling is encountered\r\n  while (elem) {\r\n    // If we've reached our match, bail\r\n    if (elem.matches(selector)) break;\r\n    // If filtering by a selector, check if the sibling matches\r\n    if (filter && !elem.matches(filter)) {\r\n      // move to next element\r\n      elem = elem.nextElementSibling;\r\n      // restart loop\r\n      continue;\r\n    }\r\n    // custom callback selector\r\n    if (callback && !callback(elem)) {\r\n      break;\r\n    }\r\n    // Otherwise, push it to the siblings array\r\n    siblings.push(elem);\r\n    // Get the next sibling element\r\n    elem = elem.nextElementSibling;\r\n  }\r\n  return siblings;\r\n}\r\n\r\nfunction _getChildren(parent, depth) {\r\n  return _nextUntil(parent, null, null, function cb(sibling) {\r\n    // get sibling attribute\r\n    const siblingDepth = sibling.getAttribute('data-depth');\r\n    // confirm within allowable depth\r\n    if (depth < siblingDepth) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n}\r\n\r\nfunction _getParentIndex(elementPosition, data, depth) {\r\n  // loop upwards (backwards) through table array\r\n  // need to start at element position - 1 as element position is\r\n  // the position that the new element is to be inserted into\r\n  for (let i = elementPosition - 1; i > -1; i--) {\r\n    const row = data[i];\r\n    let rowDepth;\r\n    // handle case where user attempts to insert row at end of table\r\n    if (row) {\r\n      rowDepth = row.DATA_DEPTH;\r\n    }\r\n    // parent encountered\r\n    if (rowDepth < depth) {\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nfunction _hide(ele) {\r\n  ele.style.display = 'none';\r\n}\r\n\r\nfunction _show(ele) {\r\n  ele.style.display = '';\r\n}\r\n\r\nfunction _toggleTreeView(options, tableElement) {\r\n  const cnf = {\r\n    collapseIcon: options.tree.rows.collapseIcon || '▾',\r\n    expandIcon: options.tree.rows.expandIcon || '▸'\r\n  };\r\n  // get currently clicked element in table\r\n  const target = tableElement.target; // eslint-disable-line prefer-destructuring\r\n  // get parent table row\r\n  const parent = target.parentNode.parentNode;\r\n  // get data depth value\r\n  const depth = parent.getAttribute('data-depth');\r\n  // only attempt to filter elements if a data depth is detected\r\n  if (depth && depth >= 0) {\r\n    // get all siblings until the next sibling with the same depth is\r\n    // reached\r\n    const children = _getChildren(parent, depth);\r\n    // Remove already collapsed nodes from children so that we don't\r\n    // make them visible.\r\n    // (Confused? Remove this code and close Item 2, close Item 1\r\n    // then open Item 1 again, then you will understand)\r\n    // get all children with expand\r\n    const expandnodes = children.filter(function cb(item) {\r\n      return item.classList.contains('treeator-tree--expand');\r\n    });\r\n    let childrenCopy = children;\r\n    // loop through all collapsed rows\r\n    expandnodes.map(function cb(subnode) { // eslint-disable-line array-callback-return\r\n      // get all children of expand items\r\n      const subnodeDepth = subnode.getAttribute('data-depth');\r\n      const subnodeChildren = _getChildren(subnode, subnodeDepth);\r\n      // remove expand items from display list\r\n      childrenCopy = childrenCopy.filter(function cb(child) {\r\n        for (let i = 0; i < subnodeChildren.length; i++) {\r\n          if (subnodeChildren[i] === child) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      });\r\n    });\r\n    // Change icon and hide/show children\r\n    if (target.innerHTML === cnf.collapseIcon) {\r\n      parent.classList.remove('treeator-tree--collapse');\r\n      parent.classList.add('treeator-tree--expand');\r\n      target.innerHTML = cnf.expandIcon;\r\n      // hide all children\r\n      children.map(function cb(e) {\r\n        return _hide(e);\r\n      });\r\n    } else if (target.innerHTML === cnf.expandIcon) {\r\n      // prevents adding chevrons to rows with no children\r\n      parent.classList.remove('treeator-tree--expand');\r\n      parent.classList.add('treeator-tree--collapse');\r\n      target.innerHTML = cnf.collapseIcon;\r\n      // show on specific children\r\n      childrenCopy.map(function cb(e) {\r\n        return _show(e);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction _addTreeToDom(treeElement, divId, tableDivId) {\r\n  // remove old tree\r\n  const oldTree = document.getElementById(tableDivId);\r\n  if (oldTree) {\r\n    oldTree.parentNode.removeChild(oldTree);\r\n  }\r\n  // add new filtered tree\r\n  const parent = document.getElementById(divId);\r\n  parent.appendChild(treeElement);\r\n  // set currentTree in state\r\n  currentTree = treeElement;\r\n}\r\n\r\nfunction _displayTree(treeRoot, divId, searchDivId, options) {\r\n  const div = document.getElementById(divId);\r\n  const input = document.getElementById(searchDivId);\r\n  // add filtered tree if applicable\r\n  if (input && input.value) {\r\n    searchTable(searchDivId, 'treeator-tree', divId, options); // eslint-disable-line no-use-before-define\r\n  } else {\r\n    // add tree to DOM\r\n    div.appendChild(treeRoot);\r\n  }\r\n}\r\n\r\nfunction _addHeaders(options, treeRoot) {\r\n  const columnNames = options.tree.columns.sourceNames;\r\n  const newColumnNames = options.tree.columns.newNames;\r\n  const widths = options.tree.columns.widths;\r\n  const display = options.tree.columns.displayNames || false;\r\n  // add tree view header\r\n  const treeHeader = _addElement(treeRoot, 'thead');\r\n  // add headers to header element\r\n  for (let i = 0; i < columnNames.length; i++) {\r\n    // add header\r\n    const th = _addElement(treeHeader, 'th');\r\n    // calculate values\r\n    const header = _toTitleCase(newColumnNames[i]);\r\n    let width;\r\n    if (widths) {\r\n      width = `${widths[i]}px`;\r\n    }\r\n    // apply header styles\r\n    th.width = width;\r\n    // apply header values\r\n    if (display) {\r\n      th.innerHTML = header;\r\n    }\r\n  }\r\n}\r\n\r\nfunction _fileSystemIconLookup() {\r\n  return {\r\n    file: '&#128459;',\r\n    folder: '&#128447;'\r\n  };\r\n}\r\n\r\nfunction _iconLookup(rowTypeIcons) {\r\n  let lookup = {};\r\n  if (rowTypeIcons === 'filesystem') {\r\n    lookup = _fileSystemIconLookup();\r\n  }\r\n  return lookup;\r\n}\r\n\r\nfunction _addRowIcons(row, tableCell, rowTypeIcons) {\r\n  const icon = _addElement(tableCell, 'span');\r\n  const lookup = _iconLookup(rowTypeIcons);\r\n  icon.innerHTML = lookup[row.ICON_TYPE] || '';\r\n  icon.style.padding = '0px 5px 0px 5px';\r\n  icon.style.color = 'rgba(95,99,104,1)';\r\n}\r\n\r\nfunction _addCells(options, row, columns, tableRow, expand) {\r\n  const cnf = {\r\n    expandIcon: options.tree.rows.expandIcon || '▸',\r\n    rowTypeIcons: options.tree.rows.rowTypeIcons || '',\r\n    renderer: options.tree.cells.renderer || _cellRenderer\r\n  };\r\n  for (let n = 0; n < columns.length; n++) {\r\n    const tableCell = _addElement(tableRow, 'td');\r\n    // add indent or chevron into cell\r\n    if (n === 0) {\r\n      const tableCellSpan = _addElement(tableCell, 'span');\r\n      tableCellSpan.style.height = '18px';\r\n      tableCellSpan.style.width = '18px';\r\n      tableCellSpan.style.display = 'inline-block';\r\n      if (expand === 'treeator-tree--expand') {\r\n        tableCellSpan.style.cursor = 'pointer';\r\n        tableCellSpan.style.textAlign = 'center';\r\n        tableCellSpan.innerHTML = cnf.expandIcon;\r\n      }\r\n      // set tablecell indent\r\n      tableCellSpan.style.paddingLeft = `${row.DATA_DEPTH * 15}px`;\r\n      // add row type icons\r\n      _addRowIcons(row, tableCell, cnf.rowTypeIcons);\r\n      // add toggle function to tree elements\r\n      tableCell.onclick = function cb(e) {\r\n        _toggleTreeView(options, e);\r\n      };\r\n    }\r\n    // determine cell alignments\r\n    const alignments = options.tree.columns.alignment;\r\n    const cellValue = _handleUndefined(row[columns[n]], '');\r\n    // add cell content\r\n    tableCell.innerHTML = tableCell.innerHTML + cellValue;\r\n    tableCell.style.textAlign = alignments[n];\r\n    tableCell.style.whiteSpace = 'nowrap';\r\n    tableCell.style.overflow = 'hidden';\r\n    // apply cell renderer\r\n    const render = cnf.renderer();\r\n    _applyRender(tableCell, render);\r\n  }\r\n}\r\n\r\nfunction _addRowEvents(tr, row, pos, options) {\r\n  const cnf = {\r\n    onClick: options.tree.rows.onClick || onClickDefault,\r\n    onDblClick: options.tree.rows.onDblClick || onDblClickDefault,\r\n    onHover: options.tree.rows.onHover || onHoverDefault,\r\n    onHoverOut: options.tree.rows.onHoverOut || function cb() { }\r\n  };\r\n  tr.onclick = function onclick() {\r\n    return cnf.onClick(tr, row, pos);\r\n  };\r\n  tr.ondblclick = function ondblclick() {\r\n    return cnf.onDblClick(tr, row, pos);\r\n  };\r\n  tr.onmouseover = function onmouseover() {\r\n    return cnf.onHover(tr, row, pos);\r\n  };\r\n  tr.onmouseout = function onmouseout() {\r\n    return cnf.onHoverOut(tr, row, pos);\r\n  };\r\n}\r\n\r\nfunction _insertAfter(newNode, referenceNode) {\r\n  referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n}\r\n\r\nfunction _addRow(options, tree, row, i, data) {\r\n  const cnf = {\r\n    renderer: options.tree.rows.renderer || _rowRenderer\r\n  };\r\n  let expand = '';\r\n  let display = 'none';\r\n  let colourCode = '';\r\n  // confirm if row element has children\r\n  if (i < data.length - 1) {\r\n    if (row.DATA_DEPTH < (data[i + 1]).DATA_DEPTH) {\r\n      expand = 'treeator-tree--expand';\r\n    }\r\n  }\r\n  // confirm if row should be displayed\r\n  // case 1 - initial construction of tree view\r\n  if (row.DATA_DEPTH === 0) {\r\n    display = '';\r\n    // case 2 - tree already constructed - check parent display status\r\n  } else if (currentTree && i !== 0) {\r\n    // get parent of current element\r\n    const parentRowIndex = _getParentIndex(i, data, row.DATA_DEPTH);\r\n    // check display status of parent\r\n    if (tree.rows[parentRowIndex].className !== 'treeator-tree--expand') {\r\n      display = '';\r\n    }\r\n  }\r\n  // confirm if row should be coloured\r\n  if (row.COLOUR_CODE) {\r\n    colourCode = `rgba(${row.COLOUR_CODE})`;\r\n  }\r\n  // create table row\r\n  const tableRow = document.createElement('tr');\r\n  // apply styling to row\r\n  tableRow.setAttribute('data-depth', row.DATA_DEPTH);\r\n  tableRow.style.display = display;\r\n  tableRow.style.backgroundColor = colourCode;\r\n  const render = cnf.renderer();\r\n  _applyRender(tableRow, render);\r\n  // must occur after the renderer to prevent the class name being overwritten\r\n  tableRow.className = expand;\r\n  // apply row functionality\r\n  _addRowEvents(tableRow, row, i, options);\r\n  // add cells to row\r\n  _addCells(options, row, options.tree.columns.sourceNames, tableRow, expand);\r\n  // append table row to tree body\r\n  const rows = tree.rows;\r\n  const treeBody = tree.tBodies[0];\r\n  // get row at desired insert position\r\n  const insertRow = rows.item(i - 1);\r\n  // case 1 - new table being constructed\r\n  if (!insertRow) {\r\n    // prepend puts element at first position in children array\r\n    treeBody.prepend(tableRow);\r\n    // case 2 - table already exists\r\n  } else {\r\n    // insert new row at specified location\r\n    _insertAfter(tableRow, insertRow);\r\n    // insertRow.parentNode.insertAfter(tableRow, insertRow);\r\n  }\r\n}\r\n\r\nfunction _addRows(options, tree) {\r\n  const data = options.tree.data;\r\n  // add rows to table\r\n  for (let i = 0; i < data.length; i++) {\r\n    const row = data[i];\r\n    _addRow(options, tree, row, i, data);\r\n  }\r\n}\r\n\r\n/**\r\n * createTreeView - generate a view of a tree datastructure based on config\r\n * options passed\r\n */\r\nfunction _createTreeView(options, frag) {\r\n  // delete dynamic tree element if it already exists\r\n  _deleteElement('treeator-tree');\r\n  // create new dynamic tree element\r\n  // cellspacing 0 to support IE6 and IE7 - Removes unwanted whitespace between\r\n  // table cells\r\n  const treeRoot = _addElement(frag, 'table');\r\n  treeRoot.id = 'treeator-tree';\r\n  treeRoot.cellSpacing = '0';\r\n  treeRoot.style.tableLayout = 'fixed';\r\n  // add headers to tree\r\n  _addHeaders(options, treeRoot);\r\n  // add table body\r\n  _addElement(treeRoot, 'tbody');\r\n  // add table rows\r\n  _addRows(options, treeRoot);\r\n  // copy tree root to global variable\r\n  inMemTree = treeRoot.cloneNode(true);\r\n  // apply styling to tree view container\r\n  const cnf = { renderer: options.tree.renderer || _containerRenderer };\r\n  const container = document.getElementById(options.tree.div);\r\n  const render = cnf.renderer();\r\n  _applyRender(container, render);\r\n  return treeRoot;\r\n}\r\n\r\n/* ============================== Public Methods ============================ */\r\n\r\nfunction searchTable(searchDivId, tableDivId, divId, options) {\r\n  // Declare variables\r\n  const input = document.getElementById(searchDivId);\r\n  const filter = input.value.toUpperCase();\r\n  // create copy of tree to filter and reload into dom\r\n  const table = inMemTree.cloneNode(true);\r\n  const tr = table.getElementsByTagName('tr');\r\n  let parents = [];\r\n  let previousDepth = -1;\r\n  // Only search through table if a input value is provided\r\n  if (filter) {\r\n    // Loop through all table rows, and hide those who don't match the search query\r\n    for (let i = 0; i < tr.length; i++) {\r\n      // track parent elements of current row\r\n      const depth = tr[i].getAttribute('data-depth');\r\n      parents = _getParentsToDisplay(parents, depth, previousDepth, tr[i]);\r\n      // get all table cells\r\n      const td = tr[i].getElementsByTagName('td');\r\n      // loop through all table cells\r\n      let found = false;\r\n      for (let n = 0; n < td.length; n++) {\r\n        const text = (td[n].innerText || td[n].textContent);\r\n        if (text.toUpperCase().indexOf(filter) > -1) {\r\n          found = true;\r\n          _addHighlight(td[n], filter);\r\n        }\r\n      }\r\n      // set display of table row\r\n      if (found) {\r\n        tr[i].style.display = '';\r\n        // fix chevron status to allow drilling down\r\n        tr[i].classList.remove('treeator-tree--collapse');\r\n        tr[i].classList.add('treeator-tree--expand');\r\n        // display parent elements\r\n        _displayParents(parents);\r\n      } else {\r\n        tr[i].style.display = 'none';\r\n      }\r\n      // re-add double click to newly cloned tree\r\n      _addRowEvents(tr[i], options.tree.data[i], i, options);\r\n      previousDepth = depth;\r\n    }\r\n  } else {\r\n    // No input value therefore dont attempt to filter\r\n    // add row events and objects to table\r\n    for (let i = 0; i < tr.length; i++) {\r\n      _addRowEvents(tr[i], options.tree.data[i], i, options);\r\n    }\r\n  }\r\n  // add toggle function to tree elements\r\n  table.onclick = function toggle(e) {\r\n    _toggleTreeView(options, e);\r\n  };\r\n  // replace existing tree view with filtered tree view\r\n  _addTreeToDom(table, divId, tableDivId);\r\n}\r\n\r\nfunction _addRowToDataModel(data, row) {\r\n  const position = row.position;\r\n  const rowData = row.data;\r\n  data.splice(position, 0, rowData);\r\n}\r\n\r\nfunction _getChildrenLength(data, index) {\r\n  let childCount = 0;\r\n  const indexDepth = data[index].DATA_DEPTH;\r\n  // loop through data from from index child to end of data set\r\n  for (let i = index + 1; i < data.length; i++) {\r\n    const rowDepth = data[i].DATA_DEPTH;\r\n    // confirm if row is a child\r\n    if (rowDepth > indexDepth) {\r\n      childCount++;\r\n    } else {\r\n      // exit for loop\r\n      break;\r\n    }\r\n  }\r\n  return childCount;\r\n}\r\n\r\nfunction _removeRowFromDataModel(data, row) {\r\n  const position = row.position;\r\n  const length = _getChildrenLength(data, position);\r\n  data.splice(position, length + 1);\r\n}\r\n\r\nfunction _removeRow(tableElement, data, row) {\r\n  const position = row.position;\r\n  const length = _getChildrenLength(data, position);\r\n  // remove elements and children from dom\r\n  for (let i = 0; i < length + 1; i++) {\r\n    // need to delete from bottom to top to ensure refrernce remain correct\r\n    tableElement.deleteRow(position + length - i);\r\n  }\r\n}\r\n\r\n// records = [{\r\n//   position: position in tree to insert\r\n//   data: row of data to insert at position\r\n// }]\r\nfunction appendTreeRecords(records) {\r\n  // loop through all records\r\n  for (let i = 0; i < records.length; i++) {\r\n    const record = records[i];\r\n    // append elements to in memory dom\r\n    _addRow(globalOptions, inMemTree, record.data, record.position, globalOptions.tree.data);\r\n    // append elements to displayed dom\r\n    _addRow(globalOptions, currentTree, record.data, record.position, globalOptions.tree.data);\r\n    // append records to in memory dom model\r\n    _addRowToDataModel(globalOptions.tree.data, record);\r\n  }\r\n}\r\n\r\n// records are expected in top to bottom order\r\n// records = [{\r\n//   position: position in tree to remove\r\n// }]\r\nfunction removeTreeRecords(records) {\r\n  // loop through all records\r\n  for (let i = records.length - 1; i > -1; i--) {\r\n    const record = records[i];\r\n    // remove elements from in memory dom\r\n    _removeRow(inMemTree, globalOptions.tree.data, record);\r\n    // remove elements from displayed dom\r\n    _removeRow(currentTree, globalOptions.tree.data, record);\r\n    // remove records from in memory dom model\r\n    _removeRowFromDataModel(globalOptions.tree.data, record);\r\n  }\r\n}\r\n\r\nfunction _updateChildrenProperties(data, index, childUpdates) {\r\n  const indexDepth = data[index].DATA_DEPTH;\r\n  const start = parseInt(index);\r\n  // loop through data from from index child to end of data set\r\n  for (let i = start + 1; i < data.length; i++) {\r\n    const row = data[i];\r\n    const rowDepth = row.DATA_DEPTH;\r\n    // confirm if row is a child\r\n    if (rowDepth > indexDepth) {\r\n      // loop through all updates for each child\r\n      for (let n = 0; n < childUpdates.length; n++) {\r\n        // get current update\r\n        const update = childUpdates[n];\r\n        const property = update.property;\r\n        const findStartsWithString = update.findStartsWithString;\r\n        const replaceString = update.replaceString;\r\n        if (row[property].startsWith(findStartsWithString)) {\r\n          // update directory\r\n          row[property] = (row[property]).replace(findStartsWithString, replaceString);\r\n        }\r\n      }\r\n    } else {\r\n      // exit for loop\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction _updateRowToDataModel(data, row) {\r\n  const rowUpdates = row.updates;\r\n  const position = row.position;\r\n  const childUpdates = row.childUpdates;\r\n  // update record in tree\r\n  if (rowUpdates) {\r\n    for (let i = 0; i < rowUpdates.length; i++) {\r\n      const property = rowUpdates[i].property;\r\n      const value = rowUpdates[i].value;\r\n      data[position][property] = value;\r\n    }\r\n  }\r\n  // update record children in tree\r\n  if (childUpdates) {\r\n    _updateChildrenProperties(data, position, childUpdates);\r\n  }\r\n}\r\n\r\nfunction _setRowDefaultDisplay(check, tr, position) {\r\n  if (check === true) {\r\n    const data = globalOptions.tree.data[position];\r\n    if (data.DATA_DEPTH !== 0) {\r\n      tr.style.display = 'none';\r\n    }\r\n  }\r\n}\r\n\r\nfunction _updateRow(tableElement, row, check) {\r\n  const updates = row.htmlUpdates;\r\n  if (updates) {\r\n    const position = row.position;\r\n    const tr = tableElement.rows[position];\r\n    // update default display status of row\r\n    _setRowDefaultDisplay(check, tr, position);\r\n    for (let i = 0; i < updates.length; i++) {\r\n      const update = updates[i];\r\n      const column = update.column;\r\n      const value = update.value;\r\n      const childNodes = tr.cells[column].childNodes;\r\n      // last node always contains text value\r\n      const lastNode = childNodes[childNodes.length - 1];\r\n      lastNode.data = value;\r\n    }\r\n  }\r\n}\r\n\r\n// records = [{\r\n//   position: position of item to update,\r\n//   updates: [{property: \"propertyName\", value: \"value\"}, ...],\r\n//   childUpdates: [{property: \"FILE_PATH\", findStartsWithString: \"old_dir\",\r\n//                 replaceString: \"new_dir\"}],\r\n//   htmlUpdates: [{property: \"propertyName\", value: \"value\"}, ...]\r\n// }]\r\nfunction updateTreeRecords(records) {\r\n  // loop through all records\r\n  for (let i = 0; i < records.length; i++) {\r\n    const record = records[i];\r\n    // append elements to in memory dom\r\n    _updateRow(inMemTree, record, true);\r\n    // append elements to displayed dom\r\n    _updateRow(currentTree, record, false);\r\n    // append records to in memory dom model\r\n    _updateRowToDataModel(globalOptions.tree.data, record);\r\n  }\r\n}\r\n\r\nfunction findLastChild(parentPos, data) {\r\n  if (!data) {\r\n    data = globalOptions.tree.data;\r\n  }\r\n  const parent = data[parentPos];\r\n  const parentDepth = parent.DATA_DEPTH;\r\n  const startPos = parentPos + 1;\r\n  let childCount = 0;\r\n  for (let i = startPos; i < data.length; i++) {\r\n    const row = data[i];\r\n    const rowDepth = row.DATA_DEPTH;\r\n    if (parentDepth < rowDepth) {\r\n      // case 1 - child record\r\n      childCount++;\r\n    } else if (rowDepth <= parentDepth) {\r\n      // case 2 - sibling or parent encountered - end of children\r\n      if (childCount !== 0) {\r\n        return i - 1;\r\n      } else {\r\n        // handle case that parent has no children\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n  // case 3 - end of dataset\r\n  return data.length - 1;\r\n}\r\n\r\nfunction getChildren(parentPos, data) {\r\n  if (!data) {\r\n    data = globalOptions.tree.data;\r\n  }\r\n  const parent = data[parentPos];\r\n  const parentDepth = parent.DATA_DEPTH;\r\n  const children = [];\r\n  for (let i = parentPos + 1; i < data.length; i++) {\r\n    const row = data[i];\r\n    const rowDepth = row.DATA_DEPTH;\r\n    // case 1 - child found\r\n    if (rowDepth === parentDepth + 1) {\r\n      children.push(data[i]);\r\n    // case 2 - no more children to be found\r\n    } else if (rowDepth <= parentDepth) {\r\n      break;\r\n    }\r\n  }\r\n  return children;\r\n}\r\n\r\nfunction init(options) {\r\n  // create in-memory fragment to store tree DOM elements - limits DOM to one repaint\r\n  const frag = document.createDocumentFragment();\r\n  // add tree container element\r\n  const tree = _createTreeView(options, frag);\r\n  // save tree to memory\r\n  currentTree = tree;\r\n  // save options to memory\r\n  globalOptions = options;\r\n  // display to user\r\n  _displayTree(tree, options.tree.div, options.search.div, options);\r\n}\r\n\r\n/* =========================== Export Public APIs =========================== */\r\n\r\nmodule.exports = {\r\n  init,\r\n  searchTable,\r\n  appendTreeRecords,\r\n  onHoverDefault,\r\n  onClickDefault,\r\n  onDblClickDefault,\r\n  removeTreeRecords,\r\n  updateTreeRecords,\r\n  findLastChild,\r\n  getChildren\r\n};\r\n"],"sourceRoot":""}